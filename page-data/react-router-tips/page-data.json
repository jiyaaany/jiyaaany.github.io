{"componentChunkName":"component---src-templates-blog-template-js","path":"/react-router-tips/","result":{"data":{"cur":{"id":"9ad9c308-0564-5436-982c-8928e6c0826a","html":"<h1 id=\"시작하며\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EC%9E%91%ED%95%98%EB%A9%B0\" aria-label=\"시작하며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시작하며</h1>\n<p>토이프로젝트를 진행하며 <a href=\"https://reactrouter.com/\">React Router</a> 에 대해 알게된 점을 기록해두자 !</p>\n<h1 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h1>\n<h2 id=\"code-classlanguage-textexactcode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textexactcode\" aria-label=\"code classlanguage textexactcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">exact</code></h2>\n<p><code class=\"language-text\">exact</code> 키워드는 정확히 일치 되었을 때만 지정된 컴포넌트를 보여주는 속성이다. 만약 <code class=\"language-text\">exact</code> 키워드 없이 라우터를 지정한다면 <code class=\"language-text\">{URL}/</code>, <code class=\"language-text\">{URL}/1</code> 모두 같은 컴포넌트를 렌더링한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>Route exact path<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">PATH</span><span class=\"token punctuation\">}</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">COMPONENT</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<h3 id=\"code-classlanguage-textltswtichcode와의-차이\" style=\"position:relative;\"><a href=\"#code-classlanguage-textltswtichcode%EC%99%80%EC%9D%98-%EC%B0%A8%EC%9D%B4\" aria-label=\"code classlanguage textltswtichcode와의 차이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">&lt;Swtich></code>와의 차이</h3>\n<p><code class=\"language-text\">exact</code> 키워드만으로는 에러가 발생했을 때의 처리가 어렵다. 아래와 같은 라우터가 있을 때 지정되지 않은 url에 접근할 경우 <code class=\"language-text\">Error404</code> 컴포넌트를 렌더링 하지 않는다는 것을 확인할 수 있다. </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route exact path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>Foo<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">\"/bar\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>Bar<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>Route component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>Error404<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span></code></pre></div>\n<p>이 문제를 해결하기 위한 방법으로 나온 것이 <code class=\"language-text\">&lt;Switch></code>이다. <code class=\"language-text\">&lt;Swtich></code>는 첫번째로 매칭되는 <code class=\"language-text\">path</code>를 가진 컴포넌트를 렌더링 시킨다. 이것이 <code class=\"language-text\">exact</code>와 다른점이며, 지정되지 않은 url에 접근 시 <code class=\"language-text\">Error404</code> 컴포넌트를 렌더링 시킨다는 것을 확인할 수 있다.</p>\n<h2 id=\"code-classlanguage-textstrictcode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textstrictcode\" aria-label=\"code classlanguage textstrictcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">strict</code></h2>\n<p><code class=\"language-text\">strict</code> 키워드는 trailing slash가 있을 경우에만 일치한다.. 추가로 슬래시 뒤에 URL이 있는 경우엔 영향을 미치지 않는다.  </p>\n<table>\n<thead>\n<tr>\n<th>path</th>\n<th>location.path</th>\n<th>match</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">/one</code></td>\n<td><code class=\"language-text\">/one</code></td>\n<td><code class=\"language-text\">no</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">/one</code></td>\n<td><code class=\"language-text\">/one/</code></td>\n<td><code class=\"language-text\">yes</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">/one</code></td>\n<td><code class=\"language-text\">/one/two</code></td>\n<td><code class=\"language-text\">yes</code></td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">exact</code> 키워드와 함께 사용할 경우 이렇게 작동한다.</p>\n<table>\n<thead>\n<tr>\n<th>path</th>\n<th>location.path</th>\n<th>match</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">/one</code></td>\n<td><code class=\"language-text\">/one</code></td>\n<td><code class=\"language-text\">yes</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">/one</code></td>\n<td><code class=\"language-text\">/one/</code></td>\n<td><code class=\"language-text\">no</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">/one</code></td>\n<td><code class=\"language-text\">/one/two</code></td>\n<td><code class=\"language-text\">no</code></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"code-classlanguage-textsensitivecode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textsensitivecode\" aria-label=\"code classlanguage textsensitivecode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">sensitive</code></h2>\n<p><code class=\"language-text\">sensitive</code> 키워드는 <code class=\"language-text\">case</code>를 검사한다.</p>\n<table>\n<thead>\n<tr>\n<th>path</th>\n<th>location.path</th>\n<th>sensitive</th>\n<th>match</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">/one</code></td>\n<td><code class=\"language-text\">/one</code></td>\n<td><code class=\"language-text\">true</code></td>\n<td><code class=\"language-text\">yes</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">/One</code></td>\n<td><code class=\"language-text\">/one</code></td>\n<td><code class=\"language-text\">true</code></td>\n<td><code class=\"language-text\">no</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">/One</code></td>\n<td><code class=\"language-text\">/one</code></td>\n<td><code class=\"language-text\">false</code></td>\n<td><code class=\"language-text\">yes</code></td>\n</tr>\n</tbody>\n</table>","excerpt":"시작하며 토이프로젝트를 진행하며 React Router 에 대해 알게된 점을 기록해두자 ! 정리   키워드는 정확히 일치 되었을 때만 지정된 컴포넌트를 보여주는 속성이다. 만약  키워드 없이 라우터를 지정한다면 ,  모두 같은 컴포넌트를 렌더링한다. 와의 차이  키워드만으로는 에러가 발생했을 때의 처리가 어렵다. 아래와 같은 라우터가 있을 때 지정되지 않은 url에 접근할 경우  컴포넌트를 렌더링 하지 않는다는 것을 확인할 수 있다.  이 문제를 해결하기 위한 방법으로 나온 것이 이다. 는 첫번째로 매칭되는 를 가진 컴포넌트를 렌더링 시킨다. 이것이 와 다른점이며, 지정되지 않은 url에 접근 시  컴포넌트를 렌더링 시킨다는 것을 확인할 수 있다.   키워드는 trailing slash가 있을 경우에만 일치한다.. 추가로 슬래시 뒤에 URL이 있는 경우엔 영향을 미치지 않는다.   path location.path match           키워드와 함께 사용할 경우 이렇게 작동…","frontmatter":{"date":"November 10, 2021","title":"사용하면서 배우는 React Router","categories":"TIL","author":"지걸","emoji":"📚"},"fields":{"slug":"/react-router-tips/"}},"next":{"id":"99fe3d66-765c-5828-bfc5-2f2549f6c878","html":"<h1 id=\"시작하며\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EC%9E%91%ED%95%98%EB%A9%B0\" aria-label=\"시작하며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시작하며</h1>\n<p>회사에서 커머스 입점몰 사이트를 개발하고 있다. 상품 정보가 워낙 다양한 정보가 많기 때문에 복잡한 상품일수록 상세 페이지를 불러오는 속도가 느리다는 생각이 들어 이 부분을 최적하 해보기로 결심했다.</p>\n<h1 id=\"최적화-전\" style=\"position:relative;\"><a href=\"#%EC%B5%9C%EC%A0%81%ED%99%94-%EC%A0%84\" aria-label=\"최적화 전 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>최적화 전</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 641px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB60lEQVQ4y51T25aiMBDkS2YVyMUxCSAXuUeMo3vGnf//nNoOznocztGHfajTkG66q6pDUHYH/Io2iIRCJDViQvQNtjEQ24yQLmIGTs8bk8Pk9Y988Hn9A3c8YpqO6LoeXdth6IcZZVGCcwEhJEE8QNI5h9YGVVWDM36vCX5fTrh+XuGcQ5qkSEyCNE2RpRm0IpaMzR8vwVgMpTXKskIcx/fzwFpiZCd0wwil1NzAF4Rh+LTZrSG7Naz2i4YfZzRepj2gJckjRf+uiJ2X+7Ih1RRky+PgYJwGuI/LPGlLDFOSmni55A9/wdCz8jX7uvnJsCVG3gef9DDkYUJe+iilfNp09tAzXHpYHI4YR4uePOwp+olZtkNK+K+GPS3Fnc7k34Bsl89GR1E0FzHGX0hmC8k3v4P8cMIw0L0jhqO1JFVDcEZ3it3iE3AW0bXa0lIKGhzdz4NyOsO6Kxp7Qd5M9IckWDONkBuCfgKDFVOQukBWDVjF6l4fTI6Ynb5gdi3ewg1CYb6TTyBuWNFQqUtk+xHrx4bnvkBf17NUFoezFE6GszhaPMeQlBfxeo48WsG8S1S7HUKf/yf5Yh3KLEdCaNoB1b6lDeeomx55sadFlajqDnlegdUOvD2DNycwgmgcap3AmhSlMpDvCn8BjhSqg1xSlpoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img.png\"\n        title=\"img.png\"\n        src=\"/static/9cb742e81380c2e22903c692db789189/c7dcc/img.png\"\n        srcset=\"/static/9cb742e81380c2e22903c692db789189/e9ff0/img.png 180w,\n/static/9cb742e81380c2e22903c692db789189/f21e7/img.png 360w,\n/static/9cb742e81380c2e22903c692db789189/c7dcc/img.png 641w\"\n        sizes=\"(max-width: 641px) 100vw, 641px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br>\n흠.. 왜 7.99초나 걸렸는지 알 수 없다. 캐시 비우기 및 강력 새로고침 시에는 이정도가 걸리는 것 같고\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 671px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmklEQVQ4y41U2ZKjMBDjW7gM2Nw+CAmQTGq2av//g7Syk7CTmiPz0NUNtNVSI4i0m6HqFnXTQaoGRSlRlor56wjPCskzHbQ9hLqsFERRheuonWas64ZlO+N4WiCEQJ5njPzbyLKMwBXarg/1417X9wQ8nLB5sGXFul0wanMH/Rmwqir0w/AEOIwjonlbsSxbADvMRxjroJTaG78HlAHA156Az9pYRM5azJS6rGfGFphaNwWmRVF8CRwkk6GXuDNM0xvgerK4vv+F4cUwjJBS7VNfM9Q3QPamBPTqosn1ZHUmkEQcxz9K/cTw/lIekv2A6DQbXK5/0DTNPu03gE8M8w8Mj66mZd7owzrcfAX23zYlbdM97XD0DJfFBYZe8m/kPgB9/8i975IDw4mSmxZtXb98EbcQITLWksbW9zUJP4TR027RzCkz/SdokTRJQsMt0qcsmEWaMLMniVGXBSaejfksIVjKbLyxLb+UfjRcsIHlZ9j1OtTaOO5opCxHO2kU+ojcXSDsBmFWiMMVjZ4xqRrntkMna1T8J/wDNC6H4vvpu+YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_1.png\"\n        title=\"img_1.png\"\n        src=\"/static/2d494fe273b8d8758d6cdf1d66665c8b/d0e73/img_1.png\"\n        srcset=\"/static/2d494fe273b8d8758d6cdf1d66665c8b/e9ff0/img_1.png 180w,\n/static/2d494fe273b8d8758d6cdf1d66665c8b/f21e7/img_1.png 360w,\n/static/2d494fe273b8d8758d6cdf1d66665c8b/d0e73/img_1.png 671w\"\n        sizes=\"(max-width: 671px) 100vw, 671px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br>\n일반 새로고침 시에는 2.25초 정도 걸리는 듯 하다.</p>","frontmatter":{"date":"November 05, 2021","title":"최적화 경험기","categories":"TIL experience","author":"지걸","emoji":"👀"},"fields":{"slug":"/optimization/"}},"prev":{"id":"90cd3f8b-498f-58d0-a72c-ffff831f03ba","html":"<h1 id=\"시작하며\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EC%9E%91%ED%95%98%EB%A9%B0\" aria-label=\"시작하며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시작하며</h1>\n<p>친구들과 프로젝트를 진행하면서 <a href=\"https://react-query.tanstack.com/\">React Query</a> 를 사용하게 되었습니다. 간단히 찾아보니 api등의 비동기 통신을 도와주는 라이브러리 라는 것으로 파악했습니다. 기존에도 <code class=\"language-text\">react</code>를 사용하여 프로젝트를 진행할 때 여러 비동기 통신을 해보았지만 단순 <code class=\"language-text\">axios</code>를 통해 통신하는 것만 경험해보았습니다. <code class=\"language-text\">React Query</code>를 살펴보며 왜 써야하는지? <code class=\"language-text\">axios</code>만 사용했을 때와 다른 점은 무엇인지 알아봅시다.</p>\n<h1 id=\"code-classlanguage-textreact-querycode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textreact-querycode\" aria-label=\"code classlanguage textreact querycode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">React Query</code></h1>\n<p><code class=\"language-text\">React Query</code>는 웹 서비스 요청에 의한 데이터를 관리하는데 도움을 주는 라이브러리 입니다. 실제 요청은 여전히 <code class=\"language-text\">fetch</code> 또는 <code class=\"language-text\">axios</code>를 사용하여 하고, <code class=\"language-text\">React Query</code>는 라이프 사이클의 적절한 시간에 요청하는 코드를 호출합니다. 또한 요청에 의한 데이터를 저장해두고, 필요한 때 데이터를 제공합니다.<br>\n이 외에도 <code class=\"language-text\">React Query</code>는 캐싱 및 재요청 같은 수많은 기능을 제공하지만, 가장 큰 장점은 코드를 정리화한다는 것입니다.</p>\n<h2 id=\"사용법\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EB%B2%95\" aria-label=\"사용법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용법</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm i react-query\n# or\nyarn add react-query</code></pre></div>\n<p>데이터를 가져와야하는 컴포넌트 상위에 <code class=\"language-text\">QueryClientProvider</code> 컴포넌트가 필요합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> QueryClient<span class=\"token punctuation\">,</span> QueryClientProvider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-query'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> queryClient <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QueryClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n<span class=\"token operator\">&lt;</span>QueryClientProvider client<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>queryClient<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>QueryClientProvider<span class=\"token operator\">></span></code></pre></div>\n<h3 id=\"code-classlanguage-textreact-querycode-사용하기\" style=\"position:relative;\"><a href=\"#code-classlanguage-textreact-querycode-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"code classlanguage textreact querycode 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">React Query</code> 사용하기</h3>\n<p><code class=\"language-text\">useQuery</code> 훅을 사용하여 데이터를 가져올 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">BlaBla</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  text<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> status<span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">,</span> data <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useQuery</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>BlaBla<span class=\"token punctuation\">,</span> Error<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">'blabla'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  getBlaBla\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">useQuery</code>는 첫 번째 인자로 고유한 키 값을 갖고, 두번째 인자로 실제 데이터를 요청하는 함수를 받습니다. 그리고 제네릭 타입 파라미터로 데이터와 에러의 타입을 받습니다.</p>\n<ul>\n<li><code class=\"language-text\">status</code>: 데이터를 가져오는 상태를 의미합니다. (<code class=\"language-text\">\"idle\"</code>, <code class=\"language-text\">\"error\"</code>, <code class=\"language-text\">\"loading\"</code>, <code class=\"language-text\">\"success\"</code> )</li>\n<li><code class=\"language-text\">error</code>: 데이터를 가져오는 중 에러가 발생한 경우 에러 객체를 포함합니다.</li>\n<li><code class=\"language-text\">data</code>: 성공적으로 가져온 데이터를 포함합니다.</li>\n</ul>\n<h1 id=\"code-classlanguage-textreact-querycode의-장점\" style=\"position:relative;\"><a href=\"#code-classlanguage-textreact-querycode%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"code classlanguage textreact querycode의 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">React Query</code>의 장점</h1>\n<ul>\n<li>async/await 구문을 처리하기 위해 <code class=\"language-text\">useEffect</code>를 사용하지 않아도 됩니다. 응답 데이터를 상태에 저장하고 요청하는 도중에 컴포넌트의 마운트가 해제되는 경우를 처리할 필요가 없습니다. 이런 것들을 통해 <code class=\"language-text\">React Query</code>는 우리의 코드를 단순화할 수 있게 해줍니다.</li>\n<li><code class=\"language-text\">React Query</code>는 다시 포커스가 활성화 되었을 때 자동으로 데이터를 다시 가져옵니다. (필요에 따라 비활성화도 가능합니다.)</li>\n<li>요청 시 오류가 발생하면 최대 3번까지 자동으로 재요청합니다. </li>\n</ul>\n<h1 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치며</h1>\n<p>전 회사에서 제품을 만들며 겪었던 문제들을 쉽게 해결할 수 있도록 도와주는 라이브러리다. (지금은 도입할 수 없지만..) </p>\n<h2 id=\"refer\" style=\"position:relative;\"><a href=\"#refer\" aria-label=\"refer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Refer</h2>\n<blockquote>\n<p><a href=\"https://www.carlrippon.com/getting-started-with-react-query-and-typescript/\">https://www.carlrippon.com/getting-started-with-react-query-and-typescript/</a></p>\n</blockquote>","frontmatter":{"date":"November 16, 2021","title":"React Query","categories":"TIL","author":"지걸","emoji":"📚"},"fields":{"slug":"/react-query/"}},"site":{"siteMetadata":{"siteUrl":"https://jigeol.io","comments":{"utterances":{"repo":"jiyaaany/jiyaaany.github.io"}}}}},"pageContext":{"slug":"/react-router-tips/","nextSlug":"/optimization/","prevSlug":"/react-query/"}},"staticQueryHashes":["1073350324","2938748437"]}